--- /tmp/emeocv_original/ImageProcessor.h	2025-10-18 10:04:01.819048781 +0000
+++ /workspaces/emeocv/ImageProcessor.h	2025-10-18 10:02:57.706052542 +0000
@@ -41,6 +41,11 @@
     cv::Mat cannyEdges();
     void filterContours(std::vector<std::vector<cv::Point> >& contours, std::vector<cv::Rect>& boundingBoxes,
             std::vector<std::vector<cv::Point> >& filteredContours);
+    cv::Rect cropRectangle(const cv::Rect& original, double cropPercent, const cv::Size& imageSize);
+    cv::Rect cropRectangleCustom(const cv::Rect& original, double cropPercentHorizontal, double cropPercentVertical, const cv::Size& imageSize);
+    cv::Mat filterFragments(const cv::Mat& digitImage);
+    void correctPerspective();
+    std::vector<cv::Point2f> detectMeterCorners();
 
     cv::Mat _img;
     cv::Mat _imgGray;
@@ -50,6 +55,11 @@
     bool _debugSkew;
     bool _debugEdges;
     bool _debugDigits;
+    
+    // Perspective correction scaling factors
+    double _perspectiveScaleX = 1.0;
+    double _perspectiveScaleY = 1.0;
+    bool _perspectiveCorrectionApplied = false;
 };
 
 #endif /* IMAGEPROCESSOR_H_ */
